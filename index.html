<!doctype html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Calorcito</title>
  <link rel="icon" href="img/favicon.ico" type="ico">
  <link rel="stylesheet" href="css/style.css">
  <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
  <link href="assets/c3-0.7.20/c3.css" rel="stylesheet">
</head>
<body>
  
  <!-- Header -->
  <header>

    <a href="#" class="logo"><i class="bx bx-line-chart"></i>Gráficos</a>

    <ul class="navlist">
      <li><a href="#home" class="active">G1</a></li>
      <li><a href="#about">G2</a></li>
      <li><a href="#shop">G3</a></li>
      <li><a href="#reviews">G4</a></li>
      <li><a href="#contact">G5</a></li>
    </ul>

    <div class="nav-icons">
      <div class="bx bx-menu" id="menu-icon"></div>
    </div>
     
  </header>

  <!-- Home -->
  <section class="home" id="home">

    <div class="home-text">
      <h1>Meet, <span>Eat &</span> <br> Enjoy the True <br> taste</h1>
      <a href="#" class="btn">Explore Menu<i class="bx bxs-right-arrow"></i></a>
      <a href="#" class="btn2">Order now</a>
    </div>

    <div class="home-img">
      <img src="img/prueba.jpg" alt="imagen">
    </div>

  </section>

  <!-- Container -->
  <!-- <section class="container">

    <div class="container-box">
      <img src="img/prueba.jpg" alt="imagen">
      <h3>hola</h3>
      <a href="#">pepe</a>
    </div>

    <div class="container-box">
      <img src="img/prueba.jpg" alt="imagen">
      <h3>hola</h3>
      <a href="#">juan</a>
    </div>

    <div class="container-box">
      <img src="img/prueba.jpg" alt="imagen">
      <h3>hola</h3>
      <a href="#">pedro</a>
    </div>

  </section> -->

  <!-- About Us -->
  <section class="about" id="about">

    <div>
      <div class="selectors">

        <!-- <div>
          <span>Año:</span>   
          <select id="g1_year">
            <option value="1990">1990</option>
            <option value="1991">1991</option>
            <option value="1992">1992</option>
            <option value="1993">1993</option>
            <option value="1994">1994</option>
            <option value="1995">1995</option>
            <option value="1996">1996</option>
            <option value="1997">1997</option>
            <option value="1998">1998</option>
            <option value="1999">1999</option>
            <option value="2000">2000</option>
            <option value="2001">2001</option>
            <option value="2002">2002</option>
            <option value="2003">2003</option>
            <option value="2004">2004</option>
            <option value="2005">2005</option>
            <option value="2006">2006</option>
            <option value="2007">2007</option>
            <option value="2008">2008</option>
            <option value="2009">2009</option>
            <option value="2010">2010</option>
            <option value="2011">2011</option>
            <option value="2012">2012</option>
            <option value="2013">2013</option>
            <option value="2014">2014</option>
            <option value="2015">2015</option>
            <option value="2016">2016</option>
            <option value="2017">2017</option>
            <option value="2018">2018</option>
            <option value="2019">2019</option>
            <option value="2020">2020</option>
            <option value="2021">2021</option>
            <option value="2022">2022</option>
          </select>
        </div> -->
          
        <div>
          <span>Mes:</span> 
          <select id="g1_month">
            <option value="Enero">Enero</option>
            <option value="Febrero">Febrero</option>
            <option value="Marzo">Marzo</option>
            <option value="Abril">Abril</option>
            <option value="Mayo">Mayo</option>
            <option value="Junio">Junio</option>
            <option value="Julio">Julio</option>
            <option value="Agosto">Agosto</option>
            <option value="Septiembre">Septiembre</option>
            <option value="Octubre">Octubre</option>
            <option value="Noviembre">Noviembre</option>
            <option value="Diciembre">Diciembre</option>
          </select>
        </div>
        
        <div>
          <span>Provincia:</span> 
          <select id="g1_prov">
            <option value="Pinar del Río">Pinar del Río</option>
            <option value="Artemisa">Artemisa</option>
            <option value="La Habana">La Habana</option>
            <option value="Mayabeque">Mayabeque</option>
            <option value="Isla de la Juventud">Isla de la Juventud</option>
            <option value="Matanzas">Matanzas</option>
            <option value="Cienfuegos">Cienfuegos</option>
            <option value="Villa Clara">Villa Clara</option>
            <option value="Sancti Spíritus">Sancti Spíritus</option>
            <option value="Ciego de Ávila">Ciego de Ávila</option>
            <option value="Camagüey">Camagüey</option>
            <option value="Las Tunas">Las Tunas</option>
            <option value="Holguín">Holguín</option>
            <option value="Granma">Granma</option>
            <option value="Santiago de Cuba">Santiago de Cuba</option>
            <option value="Guantánamo">Guantánamo</option>
          </select>
        </div>
      </div>

      <!-- <div>
        <span>Tipo:</span>
        <select id="g1_type">
          <option value="med">Temperatura media</option>
          <option value="max">Temperatura máxima media</option>
          <option value="min">Temperatura mínima media</option>
        </select>
      </div> -->

      <canvas id="g1"></canvas>
    </div>

    <div class="about-text">
      <h2>asdfghjkl <br> qwertyuiop</h2>
      <p>
        Henry Gordon Rice (July 18, 1920 – April 14, 2003)[1][2] was an American logician and mathematician best known 
        as the author of Rice's theorem, which he proved in his doctoral dissertation of 1951 at Syracuse University with 
        thesis advisor Paul C. Rosenbloom.[3] Rice was also a Professor of Mathematics at the University of New Hampshire. 
        After 1960 he was employed by Computer Sciences Corporation in El Segundo.[4][5] 
        <br><br>
        Rice died on April 14, 2003, in Davis, California.[6]
      </p>
      <a href="#" class="btn">Explore <i class="bx bxs-right-arrow"></i></a>
    </div>

  </section>

  <!-- Shop -->
  <!-- <section class="shop" id="shop">

    <div class="middle-text">
      <h4>Titulo</h4>
      <h2>Subtitulo</h2>
    </div>

    <div class="shop-content">

      <div class="row">
        <img src="img/prueba.jpg" alt="imagen">
        <h3>Producto</h3>
        <p>muelita</p>
        <div class="in-text">
          <div class="price">
            <h6>1234</h6>
          </div>
          <div class="s-btn">
            <a href="#">Order</a>
          </div>
        </div>
        <div class="top-icon">
          <a href="#"> <i class="bx bx-heart"></i></a>
        </div>
      </div>

      <div class="row">
        <img src="img/prueba.jpg" alt="imagen">
        <h3>Producto</h3>
        <p>muelita</p>
        <div class="in-text">
          <div class="price">
            <h6>1234</h6>
          </div>
          <div class="s-btn">
            <a href="#">Order</a>
          </div>
        </div>
        <div class="top-icon">
          <a href="#"> <i class="bx bx-heart"></i></a>
        </div>
      </div>

      <div class="row">
        <img src="img/prueba.jpg" alt="imagen">
        <h3>Producto</h3>
        <p>muelita</p>
        <div class="in-text">
          <div class="price">
            <h6>1234</h6>
          </div>
          <div class="s-btn">
            <a href="#">Order</a>
          </div>
        </div>
        <div class="top-icon">
          <a href="#"> <i class="bx bx-heart"></i></a>
        </div>
      </div>

      <div class="row-btn">
        <a href="#" class="btn">Products <i class="bx bxs-right-arrow"></i></a>
      </div>

    </div>

  </section> -->

  <!-- Review -->
  <!-- <section id="reviews">
    <div class="middle-text">
      <h4>Client</h4>
      <h2>Review</h2>
    </div>

    <div class="reviews-content" >
  
      <div class="box">
        <p>
          Henry Gordon Rice (July 18, 1920 – April 14, 2003)[1][2] was an American logician and mathematician best known 
          as the author of Rice's theorem, which he proved in his doctoral dissertation of 1951 at Syracuse University with 
        </p>
        <div class="in-box">
          <div class="bx-img">
            <img src="img/prueba.jpg" alt="imagen">
          </div>
          <div class="bx-text">
            <h4>Marco</h4>
            <h5>prod</h5>
            <div class="ratings">
              <a href="#"> <i class="bx bxs-star"></i></a>
              <a href="#"> <i class="bx bxs-star"></i></a>
              <a href="#"> <i class="bx bxs-star"></i></a>
              <a href="#"> <i class="bx bxs-star"></i></a>
              <a href="#"> <i class="bx bxs-star"></i></a>
            </div>
          </div>
        </div>
      </div>
  
      <div class="box">
        <p>
          Henry Gordon Rice (July 18, 1920 – April 14, 2003)[1][2] was an American logician and mathematician best known 
          as the author of Rice's theorem, which he proved in his doctoral dissertation of 1951 at Syracuse University with 
        </p>
        <div class="in-box">
          <div class="bx-img">
            <img src="img/prueba.jpg" alt="imagen">
          </div>
          <div class="bx-text">
            <h4>Marco</h4>
            <h5>prod</h5>
            <div class="ratings">
              <a href="#"> <i class="bx bxs-star"></i></a>
              <a href="#"> <i class="bx bxs-star"></i></a>
              <a href="#"> <i class="bx bxs-star"></i></a>
              <a href="#"> <i class="bx bxs-star"></i></a>
              <a href="#"> <i class="bx bxs-star"></i></a>
            </div>
          </div>
        </div>
      </div>
  
    </div>
  </section> -->

  <!-- Contact -->
  <!-- <section class="contact" id="contact">

    <div class="contact-content">
      <div class="contact-text">
        <h2>Contact Us</h2>
        <p>
          Henry Gordon Rice (July 18, 1920 – April 14, 2003)[1][2] was an American logician and mathematician best known 
          as the author of Rice's theorem, which he proved in his doctoral dissertation of 1951 at Syracuse University with 
        </p>
        <div class="social">
          <a href="#" class="clr"> <i class="bx bxl-instagram-alt"></i></a>
          <a href="#"> <i class="bx bxl-facebook"></i></a>
          <a href="#"> <i class="bx bxl-twitter"></i></a>
          <a href="#"> <i class="bx bxl-github"></i></a>
          <a href="#"> <i class="bx bxl-google"></i></a>
        </div>
      </div>

      <div class="details">
        <div class="main-d">
          <a href="#"> <i class="bx bxs-location-plus"></i>habana</a>
        </div>
        <div class="main-d">
          <a href="#"> <i class="bx bx-mobile-alt"></i>1234567</a>
        </div>
        <div class="main-d">
          <a href="#"> <i class="bx bxl-youtube"></i>Marky</a>
        </div>
        <div class="main-d">
          <a href="#"> <i class="bx bx-bell"></i>Suscribe</a>
        </div>
      </div>

    </div>

  </section> -->

  <!-- Scroll -->
  <a href="#" class="scroll">
    <i class="bx bx-up-arrow-alt"></i>
  </a>



  <!-- <script src="https://unpkg.com/scrollreveal"></script> -->
  <script src="js/script.js"></script>
  <script src="https://unpkg.com/boxicons@2.1.4/dist/boxicons.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
  <!-- <script src="assets/js/d3.min.js" charset="utf-8"></script>
  <script src="assets/js/c3.js"></script> -->


  <script>
    const years = [];
    const max = [];
    const med = [];
    const min = [];
    let monthSelect = document.querySelector('#g1_month');
    let provSelect = document.querySelector('#g1_prov');
    //let typeSelect = document.querySelector('#g1_type');
    let month = $('#g1_month').val();
    let prov = $('#g1_prov').val();
    //let type = $('#g1_type').val();
    let graph1 = $('#g1');
    var chart;

    charge();
    
    function charge() {
      fetch('data/data_line.json')
      .then(response => {
        if (!response.ok) {
          throw new Error('Network response was not ok');
        }
        return response.json();
      })
      .then(base => {
  
        calculate(base)
        
        /*chart = c3.generate({
        bindto: '#g1',
        data: {
            x: 'Años',
          columns: [
 ['Años','2009','2010','2011','2012','2014','2015','2016'],
 ["Artículos",0,19600,50000,100000,135748,150000,164344],
          ],
          types: {
           Artículos: 'spline',
        },
        colors: {
                'Artículos': '#EE1C25',
            }
        },
         axis: {
            x: {
                label: 'Años'
            },
            y: {
                label: 'Total de Artículos',
                position: 'outer-middle',
            }
        },
        
      });*/
        chart = new Chart(graph1, {
            type: 'line',
            data: {
                labels: years,
                datasets:[
                    {
                        data: max,
                        borderColor: "orange",
                        fill: false
                    },
                    {
                        data: med,
                        borderColor: "yellow",
                        fill: false
                    },
                    {
                        data: min,
                        borderColor: "blue",
                        fill: false
                    }
                ]
            },
            options: {
              responsive: true,
              legend: {display: false}
            }
          });
      })
      .catch(error => console.error('Error:', error));
    }

    monthSelect.addEventListener('change', function() {
      month = $('#g1_month').val();
      charge();
    });

    provSelect.addEventListener('change', function() {
      prov = $('#g1_prov').val();
      charge();
    });

    /*typeSelect.addEventListener('change', function() {
      type = $('#g1_type').val();
      charge();
    });*/

    function calculate(data) {
      for (let i = 0; i < data.months.length; i++) {
        if (data.months[i].name == month) {
          for (let j = 0; j < data.months[i].prov.length; j++) {
            if (data.months[i].prov[j].name == prov) {
              for (let k = 0; k < data.months[i].prov[j].years.length; k++) {
                var num;
                for (let l = 0; l < data.months[i].prov[j].years[k].stations.length; l++) {
                  num = selectType(data.months[i].prov[j].years[k].stations);
                }

                years[k] = data.months[i].prov[j].years[k].year;
                max[k] = num[0]; 
                med[k] = num[2]; 
                min[k] = num[3]; 
              }
              break;
            }
          }
          break;
        }
      } 
    }

    function selectType(num, type) {
      const response = [];
      var med = 0;
      var count = 0;
      response[0] = Number.MIN_VALUE;
      response[2] = null;
      response[3] = Number.MAX_VALUE;

      for (let i = 0; i < num.length; i++) {
        if (num[i].temp != '') {
          med += Number(num[i].temp);
          count++;
        }

        if (num[i].temp_max != '') {
          if (Number(num[i].temp_max) > response[0]) {
            response[0] = Number(num[i].temp_max);
            response[1] = num[i].name;
          }
        }

        if (num[i].temp_min != '') {
          if (Number(num[i].temp_min) < response[0]) {
            response[3] = Number(num[i].temp_min);
            response[4] = num[i].name;
          }
        }
      }

      if (count != 0) {
        response[2] = med / count;
      }
      if (response[0] == Number.MIN_VALUE) response[0] = null;
      if (response[3] == Number.MAX_VALUE) response[3] = null;
      return response;
    }

  </script>
</body>
</html>
